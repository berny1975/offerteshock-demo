
:root{ --bg:#0b0e13; --panel:#131722; --ink:#e7edf3; --muted:#aab4c3; --link:#00e1ff; --accent:#00ffc6; --tap:44px; }
*{ box-sizing:border-box } html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:system-ui,Segoe UI,Roboto,Arial}
a{ color:var(--link); text-decoration:none } a:hover{ text-decoration:underline }
.wrap{ max-width:980px; margin:auto; padding:24px }
.card{ background:var(--panel); border:1px solid rgba(255,255,255,.12); border-radius:16px; padding:24px; box-shadow:0 10px 30px rgba(0,0,0,.25); }
h1,h2{ margin:0 0 12px } p{ line-height:1.6 }
.btn{ display:inline-flex; align-items:center; justify-content:center; min-height:var(--tap); padding:0 16px; border-radius:999px; background:linear-gradient(90deg,var(--accent),var(--link)); color:#002; font-weight:600 }
.btn:hover{ filter:brightness(1.05) }
footer{ margin-top:32px; padding:16px 12px; border-top:1px solid rgba(255,255,255,.12); color:var(--muted); font-size:14px }
@media (max-width:720px){ .wrap{ padding:16px } }


/* === injected from index.html (to unify header/footer across pages) === */
:root{
    --bg:#0b0c10; --panel:#0f1422; --card:#121318; --muted:#9aa0a6; --text:#e8eaed;
    --accent:#22c55e; --accent-2:#3b82f6; --danger:#ef4444; --warn:#f59e0b; --ok:#10b981; --border:#1f2937;
    --container: min(96vw, 1200px); --gap: 12px;
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  html,body{margin:0;background:var(--bg);color:var(--text);font:16px/1.46 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
  a{color:inherit;text-decoration:none}
  button{font:inherit;color:inherit;background:none;border:none}
  .container{width:var(--container);margin:0 auto;padding:12px}
  /* ===== Header full-bleed (2 righe fisse) ===== */
  header.fullbleed{
    position:sticky; top:0; z-index:80;
    width:100vw; margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw);
    background:rgba(11,12,16,.9); border-bottom:1px solid var(--border); backdrop-filter: blur(6px);
  }
  .h-inner{ width:var(--container); margin:0 auto; padding:10px 12px;
    display:grid; grid-template-areas: "brand auth" "search search";
    grid-template-columns: 1fr auto; row-gap:10px; column-gap:12px; align-items:center;
  }
  .brand{grid-area:brand; display:inline-flex; align-items:center; gap:8px;}
  .brand .burger{width:36px;height:36px;border:1px solid var(--border);background:#0f1422;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer}
  .brand svg{width:20px;height:20px}
  .brand span{font-weight:700;font-size:15px;background:linear-gradient(90deg,var(--accent),var(--accent-2));-webkit-background-clip:text;background-clip:text;color:transparent; letter-spacing:.2px}
  #authDock{grid-area:auth; display:flex; gap:6px; align-items:center}
  .btn{cursor:pointer;border:1px solid var(--border);background:#161821;color:var(--text);padding:8px 10px;border-radius:10px;transition:transform .06s ease,background .2s, box-shadow .2s;touch-action:manipulation; font-size:.9rem}
  .btn:hover{transform:translateY(-1px); box-shadow:0 6px 18px rgba(0,0,0,.25)}
  .btn.primary{background:var(--accent);color:#03150a;border-color:transparent;font-weight:700}
  .btn.ghost{background:#0f1117}
  .btn.xs{padding:6px 8px;font-size:.84rem}
  .fav-pill{ position:relative;width:36px;height:36px;border:1px solid var(--border);background:#0f1117;border-radius:999px;display:inline-flex;align-items:center;justify-content:center}
  .fav-pill .count{ position:absolute;top:-4px;right:-4px;min-width:16px;height:16px;line-height:16px;padding:0 4px;border-radius:999px;background:#ff4d6d;color:#fff;font-size:10px;border:2px solid #0b0f16;display:inline-flex;align-items:center;justify-content:center}
  /* Ricerca + filtri compatti (solo in alto) */
  .search{ grid-area:search; display:flex; gap:8px; width:100%; align-items:center; flex-wrap:wrap }
  .ctrl{ display:inline-flex; align-items:center; gap:6px; }
  .label{ font-size:.82rem; color:var(--muted); opacity:.95 }
  /* Custom SELECT styled like the theme (global) */
  :root{ --sel-h:40px; --select-br:10px; --select-bw:1px }
  .select{ position:relative; display:inline-flex; align-items:center; border:none; background:var(--bg); color:var(--text); border-radius:var(--select-br); height:var(--sel-h); padding:0 12px; overflow:hidden; width:max-content; min-width:0; box-shadow:none; outline:none }
  .select.small{ height:36px }
  .select:hover{ background:var(--bg) }
  .select:focus-within{ border:none !important; box-shadow:none !important; background:var(--bg) !important }
  .select::after{ display:none !important; content:none !important }
  .select select{ appearance:none; -webkit-appearance:none; -moz-appearance:none; background:var(--bg) !important; color:inherit; border:none !important; outline:none !important; font:inherit; height:100%; line-height:calc(var(--sel-h) - 2px); padding:0; margin:0; cursor:pointer; min-width:0; width:auto; box-shadow:none !important; -webkit-tap-highlight-color: transparent }
  .select select:focus{ outline:none }
  .select option{ color:var(--text); background:var(--bg); }
  /* gruppo input+button unito */
  .searchbar{ display:flex; align-items:center; gap:0; flex:1; min-width:200px }
  .searchbar .search-in{ flex:1; min-width:140px; border:1px solid var(--border); background:#0f1117; color:#e5e7eb; padding:10px; height:40px; border-radius:10px 0 0 10px; border-right:none }
  .searchbar .btn-search{ height:40px; border:1px solid var(--border); border-left:none; border-radius:0 10px 10px 0; background:#0f1117 }
  .searchbar .btn-search:hover{ background:#111827 }
.searchbar .search-in:focus{ outline:none; border-color:var(--border); box-shadow:none }
.btn:focus{ outline:none; box-shadow:none }

  /* Suggest box attaccato all'input */
  .suggest{position:fixed; z-index:90; display:none; background:#0b0f16; border:1px solid var(--border); border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.35); max-height:50vh; overflow:auto; width:360px}
  .suggest.open{display:block}
  .suggest .head{font-size:12px;color:#9aa4b2;padding:8px 12px;border-bottom:1px solid var(--border); position:sticky; top:0; background:#0b0f16}
  .sugg-item{padding:10px 12px; cursor:pointer; display:flex; align-items:center; gap:8px}
  .sugg-item:hover{background:#121826}
  /* Burger Popover */
  .pop-scrim{position:fixed; inset:0; z-index:9998; background:transparent; display:none}
  .pop{position:fixed; z-index:9999; min-width:220px; width:min(92vw,340px); background:#0f1422; color:#e7ecf5; border:1px solid var(--border); border-radius:16px;
       box-shadow:0 22px 60px rgba(0,0,0,.5), 0 2px 8px rgba(0,0,0,.35); overflow:hidden; opacity:0; transform: translateY(-8px) scale(.88); filter: blur(6px);
       transform-origin: var(--pop-ox,24px) var(--pop-oy,0px); pointer-events:none; transition: opacity .14s ease, transform .38s cubic-bezier(.2,.8,.2,1.1), filter .28s ease; display:none}
  .pop.open{opacity:1; transform:translateY(0) scale(1); filter:blur(0); pointer-events:auto; display:block}
  .pop::after{content:""; position:absolute; width:12px; height:12px; background:#0f1422; border-left:1px solid var(--border); border-top:1px solid var(--border); transform:rotate(45deg); left: var(--caret-x, 24px); top: var(--caret-top, -6px);}
  .pop-nav{display:flex; flex-direction:column; gap:8px; padding:10px}
  .pop-item{padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:#101626; cursor:pointer; text-align:left}
  .pop-item:hover{background:#132032}
  /* Barra Ticker migliori offerte */
  .ticker-wrap{ width:var(--container); margin:8px auto 0; padding:0 12px; }
  .ticker{ position:relative; overflow:hidden; border:1px solid var(--border); background:#0f1422; border-radius:12px; }
  .ticker-track{ display:flex; gap:18px; padding:10px 12px; width:max-content; animation: marquee 28s linear infinite; }
  .ticker:hover .ticker-track{ animation-play-state: paused; }
  .tick{ white-space:nowrap; font-size:.92rem; background:#0b111f; border:1px solid var(--border); padding:6px 10px; border-radius:999px; display:inline-flex; gap:8px; align-items:center }
  .tick b{color:#f59e0b}
  @keyframes marquee{
    from{ transform: translateX(0); } to{ transform: translateX(-50%); }
  }
  /* Sezioni e griglie */
  main.container{padding-top:8px}
  .section-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin:16px 0 8px 0}
  .section-title{font-weight:800}
  .hero{display:grid;grid-template-columns:2fr 1fr;gap:var(--gap);margin:14px 0}
  .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:var(--gap)}
  /* Card */
  .card{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;position:relative;transition:transform .1s ease, box-shadow .2s}
  .card:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(0,0,0,.28)}
  .card img{width:100%;aspect-ratio:16/9;object-fit:cover;display:block}
  .badge{position:absolute;top:10px;left:10px;background:linear-gradient(90deg,#f59e0b,#eab308);font-weight:700;padding:6px 10px;border-radius:999px;font-size:12px; width:auto; white-space:nowrap; z-index:2}
  .badge.bomba{background:linear-gradient(90deg,#ef4444,#f97316)}
  .badge.errore{background:linear-gradient(90deg,#3b82f6,#22d3ee)}
  .badge.flash{background:linear-gradient(90deg,#dc2626,#f59e0b); animation:flash-pulse 2s infinite}
  .badge.trending{background:linear-gradient(90deg,#7c3aed,#a855f7)}
  @keyframes flash-pulse{ 0%,100%{opacity:1} 50%{opacity:0.8; transform:scale(1.02)} }

  /* Demo Banner Styles */
  .demo-banner{
    background:linear-gradient(135deg,#0f1d2b,#1a2332);
    border:2px solid var(--accent);
    border-radius:16px;
    padding:24px;
    margin-bottom:24px;
    box-shadow:0 8px 32px rgba(34,197,94,0.15);
  }
  .demo-content h2{
    margin:0 0 12px;
    background:linear-gradient(90deg,var(--accent),var(--accent-2));
    -webkit-background-clip:text;
    background-clip:text;
    color:transparent;
    font-size:1.4rem;
    font-weight:800;
  }
  .demo-content p{
    margin:0 0 16px;
    color:var(--muted);
    line-height:1.5;
  }
  .demo-features{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
  }
  .demo-tag{
    background:rgba(34,197,94,0.15);
    border:1px solid rgba(34,197,94,0.3);
    color:var(--accent);
    padding:6px 12px;
    border-radius:20px;
    font-size:0.85rem;
    font-weight:600;
  }
  @media (max-width:640px){
    .demo-banner{padding:16px}
    .demo-content h2{font-size:1.2rem}
    .demo-features{gap:6px}
    .demo-tag{padding:4px 8px; font-size:0.8rem}
  }
  .fav-btn{position:absolute;top:10px;right:10px;border:1px solid var(--border);background:#0f1117;color:#d1d5db;border-radius:999px;padding:6px 10px;font-weight:700;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.28)}
  .fav-btn.active{background:#1f2937;color:#ff4d6d;border-color:#2b3345}
  .content{padding:12px}
  .title{font-weight:700;margin:6px 0 4px 0}
  .desc{color:var(--muted); font-size:.95rem; margin:0 0 8px 0; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden}
  .stars{color:#facc15}
  .price{display:flex;align-items:baseline;gap:8px;flex-wrap:wrap}
  .now{font-size:clamp(18px,2.6vw,20px);font-weight:800}
  .was{color:var(--muted);text-decoration:line-through}
  .discount{color:var(--ok);font-weight:800}
  .tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
  .tag{display:inline-flex;gap:6px;align-items:center;font-size:12px;color:#cbd5e1;background:#0f1117;border:1px solid var(--border);border-radius:999px;padding:4px 8px}
  .cta{display:flex;gap:8px;margin-top:10px}
  .cta .btn{flex:1;text-align:center}
  .coupon-chip{padding:6px 8px; border-radius:10px; background:#0f172a; border:1px solid var(--border); font-size:.85rem; display:inline-flex; align-items:center; gap:8px;}
  .coupon-chip code{ background:#0b1020; padding:2px 4px; border-radius:6px; border:1px solid var(--border); }
  .copy-ok{ color: var(--accent-2); font-weight:700; display:none; }
  .copy-ok.show{ display:inline; }
  /* Modali base */
  .modal{position:fixed;inset:0;background:rgba(4,6,10,.65);backdrop-filter:blur(3px);display:none;align-items:center;justify-content:center;z-index:85}
  .dialog{background:#0f1117;border:1px solid var(--border);border-radius:16px;max-width:980px;width:96%;padding:16px;max-height:86vh;overflow:auto;position:relative}
  .dialog h3{margin-top:0}
  .close{position:absolute;right:12px;top:10px;border:1px solid var(--border);background:#0f1117;border-radius:999px;color:#e5e7eb;padding:6px 10px;cursor:pointer}
  .error{display:none;background:#311; border:1px solid #a33; color:#fdd; padding:10px; border-radius:10px; margin:12px 0}
  /* Cursors */
  body{cursor:default} a,button,.btn,.fav-btn,.pop-item,[data-open],[data-close],[data-share],[data-copy],.sugg-item{cursor:pointer} input,textarea{cursor:text}
  /* Responsive */
  @media (max-width: 860px){
    .hero{grid-template-columns:1fr}
    .grid{grid-template-columns:1fr}
    .cta{flex-direction:column} .cta .btn{width:100%}
    .ticker-track{animation-duration: 40s;}
  }
  /* disposizione speciale: verticale mobile => Ordina come 4a riga */
  @media (max-width: 860px) and (orientation:portrait){
    .search{gap:8px}
    .search .ctrl.cat{ order:1; width:100% }
    .search .searchbar{ order:2; width:100% }
    .search .ctrl.sort{ order:4; width:100% }
  }
  @media (min-width:861px) and (max-width: 1200px){
    .hero{grid-template-columns:1fr 1fr}
    .grid{grid-template-columns:repeat(2,minmax(0,1fr))}
  }

/* Match box style & spacing to input boxes */
.search .select.small{ height:36px; border-radius: var(--select-br); border:none; }
.search .select.small select{ padding-right: 4px }


/* Remove native dropdown arrows on as many browsers as possible */
.select select{
  background-image: none !important;
  padding-right: 0;
}
.select select::-ms-expand{ display:none; } /* old IE/Edge */
.select select::-webkit-contacts-auto-fill-button{ visibility:hidden; display:none; pointer-events:none; } /* iOS oddity */

:root{ color-scheme: dark; }

/* --- Deal Detail Modal --- */
.dialog.wide{ max-width: 980px; width: calc(100% - 24px); }
.deal-head{ display:flex; gap:16px; align-items:flex-start; border-bottom:1px solid var(--border); padding-bottom:12px; margin-bottom:16px }
.deal-title{ font-size:1.25rem; font-weight:700; margin:0 }
.deal-meta{ display:flex; gap:12px; flex-wrap:wrap; color:var(--muted); font-size:.95rem }
.deal-price{ display:flex; align-items:baseline; gap:8px; margin:8px 0; }
.deal-price .now{ font-size:1.6rem; font-weight:800; color:var(--accent) }
.deal-price .was{ text-decoration:line-through; color:var(--muted) }
.deal-actions{ display:flex; gap:8px; flex-wrap:wrap }
.btn.ghost{ background:transparent; border:1px solid var(--border) }
.detail-grid{ display:grid; grid-template-columns: 1.1fr .9fr; gap:18px; }
@media (max-width: 860px){ .detail-grid{ grid-template-columns: 1fr } }
.gallery{ display:grid; grid-template-columns: 1fr; gap:10px }
.gallery .main-img{ width:100%; border-radius:12px; object-fit:cover; aspect-ratio: 4/3; background:#0b0d12 }
.gallery .thumbs{ display:flex; gap:8px; overflow:auto; scrollbar-width:none }
.gallery .thumbs img{ height:68px; width:auto; border-radius:10px; opacity:.9; cursor:pointer }
.gallery .thumbs img:hover{ opacity:1 }
.specs{ background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:12px }
.specs h4{ margin:0 0 8px 0; font-size:1rem }
.specs ul{ margin:0; padding:0; list-style:none }
.specs li{ display:flex; justify-content:space-between; gap:12px; padding:6px 0; border-bottom:1px dashed var(--border) }
.specs li:last-child{ border-bottom:none }
.pros-cons{ display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:14px }
@media (max-width: 700px){ .pros-cons{ grid-template-columns:1fr } }
.box.pros{ border:1px solid #1b4d2b; background:#0c1a12; border-radius:12px; padding:12px }
.box.cons{ border:1px solid #5b1a1a; background:#160d0d; border-radius:12px; padding:12px }
.box h5{ margin:0 0 8px 0 }
.longdesc{ color:var(--text); opacity:.9 }
.disclosure{ color:var(--muted); font-size:.9rem; margin-top:8px }
.badges{ display:flex; gap:8px; flex-wrap:wrap }
.badge{ background:rgba(255,255,255,.06); border:1px solid var(--border); padding:4px 8px; border-radius:999px; font-size:.85rem }


.os-subheader .brand .label{opacity:.8;margin-right:6px}
.os-subheader .brand .prod-title{font-weight:800}


/* === injected from index.html (to unify header/footer across pages) === */
/* Subpage header (within content area) */
.os-subheader{
  position: sticky; top: 0; z-index: 3;
  background: #0f1117; color: #e8eaed;
  border-bottom: 1px solid #1f2937;
  padding: 10px 12px;
  border-radius: 12px;
  margin-bottom: 12px;
}
.os-subheader .row{ display:flex; align-items:center; justify-content:center; position:relative; gap:12px; flex-wrap:wrap; }
.os-subheader .brand{ font-weight:900; letter-spacing:.2px; }
.os-subheader .brand small{ color:#9aa0a6; font-weight:600; margin-left:8px }
.os-subheader .ticker{ margin-top:8px; overflow:hidden; border:1px solid #1f2937; border-radius:10px; background:#0b1020; }
.os-subheader .ticker .track{ display:flex; gap:24px; white-space:nowrap; padding:8px 12px; will-change:transform; animation: os-marquee 32s linear infinite; }
.os-subheader .ticker .item{ display:inline-flex; align-items:center; gap:8px; opacity:.95; }
.os-subheader .ticker .item b{ font-weight:800 }
@keyframes os-marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

/* Subpage layout helpers */
.os-subpage{ display:block; }
.os-subpage .back{ display:inline-flex; gap:8px; align-items:center; border:1px solid #1f2937; background:#10141f; color:#e8eaed; padding:8px 10px; border-radius:10px; text-decoration:none; font-weight:600; }
.os-subpage .back:hover{ background:#0f172a }
.os-subpage .spacer{ height:8px }

/* Extra blocks appended to the cloned card */
.os-subpage .card .pc{ display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px }
@media (max-width:700px){ .os-subpage .card .pc{ grid-template-columns:1fr } }
.os-subpage .card .box{ border-radius:12px; padding:12px; border:1px solid rgba(255,255,255,.06); background:rgba(255,255,255,.03) }
.os-subpage .card .box h5{ margin:0 0 8px 0 }
.os-subpage .card .long{ opacity:.95; margin-top:8px }

/* Ensure images on detail subpage don't trigger anything */
.os-subpage .card img{ pointer-events:none !important; cursor:default !important; }


/* === injected from index.html (to unify header/footer across pages) === */
.os-subheader .brand{ margin:0 auto; text-align:center; }
.os-subheader .back{ position:absolute; left:12px; top:50%; transform:translateY(-50%); }


/* === injected from index.html (to unify header/footer across pages) === */
#hInner .ticker-wrap{ margin-top:8px; grid-column:1 / -1; }
#hInner .ticker{ overflow:hidden; border:1px solid var(--border, #1f2937); border-radius:10px; background:#0b1020; color:#e8eaed; font-size:.95rem; }
#hInner .ticker-track{ display:flex; gap:24px; white-space:nowrap; padding:8px 12px; will-change:transform; animation: os-marquee 32s linear infinite; }
#hInner .tick{ display:inline-flex; align-items:center; gap:8px; opacity:.95; }
#hInner .tick b{ font-weight:800 }
@keyframes os-marquee { 0%{ transform: translateX(0); } 100%{ transform: translateX(-50%); } }


/* === Stable layout across pages (avoid width jump) === */
html{ scrollbar-gutter: stable both-edges; }
@supports not (scrollbar-gutter: stable){
  html{ overflow-y: scroll; } /* fallback per vecchi browser */
}
/* Ensure header width & spacing consistent */
#hInner{ margin:0 auto; width:var(--container); padding:0 12px; }
/* Ticker wrap position just below search, same spacing as home */
.ticker-wrap{ width:var(--container); margin:8px auto 0; padding:0 12px; }


/* === Subpage close X (visible) === */
.os-subpage .os-subheader .row{ display:flex; align-items:center; gap:12px; }
.os-subpage .os-subheader .close{
  margin-left:auto; width:44px; height:44px;
  border-radius:999px; border:none; cursor:pointer;
  font-size:26px; line-height:44px; text-align:center;
  background:#ffffff; color:#0b0e13;
  box-shadow:0 2px 8px rgba(0,0,0,.35);
}
.os-subpage .os-subheader .close:hover{ filter: brightness(.97); }


/* === Chiudi Dettagli buttons (header & right) === */
.btn-close-detail{
  height: 44px; padding: 0 16px; border: none; border-radius: 10px;
  background: #ffffff; color: #0b0e13; font-weight: 800; cursor: pointer;
  box-shadow: 0 2px 8px rgba(0,0,0,.25);
}
.btn-close-detail:hover{ filter: brightness(.97); }
.os-subpage .os-subheader .row{ display:flex; align-items:center; gap:12px; }
.os-subpage .os-subheader .row .btn-close-detail{ margin-left: auto; }
.detail-actions-right{ display:flex; justify-content: flex-end; margin-bottom: 12px; }


/* === Mirror 'Chiudi Dettagli' button on the opposite side === */
.os-subpage .os-subheader .row{ display:flex; align-items:center; }
.os-subpage .os-subheader .row .btn-close-detail-mirror{ margin-left:auto; }


/* === Dup 'Chiudi Dettagli' on same row, pushed right === */
.os-subpage .os-subheader .row{ display:flex; align-items:center; }
.os-subpage .os-subheader .row .btn-close-detail-mirror{ margin-left:auto; }


/* === Targeted mirror 'Chiudi Dettagli' on header row with 'Scheda dettaglio:' === */
.os-subpage .os-subheader .row{ display:flex; align-items:center; }
.btn-close-detail-mirror{ margin-left:auto; }


/* === Ensure duplicated 'Chiudi Dettagli' is visible on the same row (right aligned) === */
.os-subpage .os-subheader .row{ display:flex; align-items:center; flex-wrap:nowrap; overflow:visible; gap:12px; }
.os-subpage .os-subheader .brand{ flex:1 1 auto; min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.os-subpage .os-subheader .row .btn-close-detail-mirror{ margin-left:auto; flex:0 0 auto; position:relative; z-index:2; }


/* === Symmetric header: left/right 'Chiudi Dettagli' & centered title === */
.os-subpage .os-subheader [data-os-grid="row3"]{
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; column-gap:12px;
  padding-inline:12px;
}
.os-subpage .os-subheader [data-os-grid="row3"] .brand{
  grid-column:2; text-align:center; min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
/* Uniform button sizing (same height) */
.os-subpage .os-subheader .btn-close-detail,
.os-subpage .os-subheader .btn-close-detail-mirror{
  height: 44px; padding: 0 16px; border-radius: 10px; border: none;
  font-weight: 800; cursor: pointer;
  background:#ffffff; color:#0b0e13; box-shadow:0 2px 8px rgba(0,0,0,.25);
  line-height: 44px; /* vertical centering for anchors */
  display: inline-flex; align-items: center; justify-content: center;
}
.os-subpage .os-subheader .btn-close-detail:hover,
.os-subpage .os-subheader .btn-close-detail-mirror:hover{ filter:brightness(.97); }


/* === Symmetric header v2: exact grid placement & equal height === */
.os-subpage .os-subheader [data-os-grid="row3"]{
  display:grid !important;
  grid-template-columns:auto 1fr auto !important;
  align-items:center !important;
  column-gap:12px !important;
}
.os-subpage .os-subheader [data-os-grid="row3"] .brand{
  grid-column:2;
  text-align:center;
  min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
.os-subpage .os-subheader .btn-close-detail,
.os-subpage .os-subheader .btn-close-detail-mirror{
  height: 44px; padding: 0 16px; border-radius: 10px; border: none;
  font-weight: 800; cursor: pointer;
  background:#ffffff; color:#0b0e13; box-shadow:0 2px 8px rgba(0,0,0,.25);
  display:inline-flex; align-items:center; justify-content:center;
  line-height: 44px;
  box-sizing: border-box;
  position: static !important; float: none !important;
}
.os-subpage .os-subheader .btn-close-detail-left{ grid-column:1; justify-self:start; margin:0; }
.os-subpage .os-subheader .btn-close-detail-right{ grid-column:3; justify-self:end; margin:0; }


/* === Vertical alignment fix: buttons aligned with "Scheda dettaglio:" text === */
.os-subpage .os-subheader [data-os-grid="row3"]{ align-items:center !important; min-height:44px; }
.os-subpage .os-subheader [data-os-grid="row3"] .brand{
  grid-column:2;
  display:flex; align-items:center; justify-content:center;
  min-height:44px; /* match buttons */
  text-align:center;
  min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
.os-subpage .os-subheader .btn-close-detail,
.os-subpage .os-subheader .btn-close-detail-mirror{
  align-self:center !important;
  height:44px; line-height:44px; padding:0 16px; margin:0;
}


/* === Lock header row height & perfect vertical alignment === */
.os-subpage .os-subheader [data-os-grid="row3"]{
  height:44px !important; min-height:44px !important; max-height:44px !important;
  padding-top:0 !important; padding-bottom:0 !important;
  align-items:center !important;
}
.os-subpage .os-subheader [data-os-grid="row3"] .brand{
  display:flex !important; align-items:center !important; justify-content:center !important;
  height:100% !important; min-height:44px !important;
}
.os-subpage .os-subheader [data-os-grid="row3"] .brand *{
  margin:0 !important; line-height:1 !important;
}
.os-subpage .os-subheader [data-os-grid="row3"] .brand .label,
.os-subpage .os-subheader [data-os-grid="row3"] .brand .prod-title{
  display:inline-block !important; line-height:1 !important;
}
.os-subpage .os-subheader .btn-close-detail,
.os-subpage .os-subheader .btn-close-detail-mirror{
  height:44px !important; line-height:44px !important; padding:0 16px !important; margin:0 !important;
  align-self:center !important;
}


/* === Offset both 'Chiudi Dettagli' buttons downward by 30px === */
.os-subpage .os-subheader,
.os-subpage .os-subheader [data-os-grid="row3"]{ overflow: visible !important; }
.os-subpage .os-subheader [data-os-grid="row3"] .btn-close-detail-left,
.os-subpage .os-subheader [data-os-grid="row3"] .btn-close-detail-right{
  position: relative !important;
  top: 22px !important;
}


/* === Raise "Scheda dettaglio:" brand/title by 30px === */
.os-subpage .os-subheader,
.os-subpage .os-subheader [data-os-grid="row3"]{ overflow: visible !important; }

.os-subpage .os-subheader [data-os-grid="row3"] .brand{
  position: relative !important;
  top: -55px !important;   /* move upward */
  z-index: 1;
}
